# ===========================================
# OpenQase Environment Configuration
# ===========================================
# Copy this file to .env.local and fill in your values
#
# üìö Full documentation: docs/environment-variables.md
# üîí Security: Never commit .env.local to version control

# ===========================================
# REQUIRED - Supabase Database
# ===========================================
# Get these from: Supabase Dashboard ‚Üí Settings ‚Üí API
# Local development: Start with `npx supabase start`
# Production: Use your Supabase project credentials

NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ===========================================
# OPTIONAL - Site Configuration
# ===========================================

# Base URL for your deployment
# Used for: SEO canonical URLs, email links, sitemap generation
# Default: https://openqase.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# Development mode - ONLY for local development
# Set to true to bypass authentication on localhost
# ‚ö†Ô∏è MUST be false in production
NEXT_PUBLIC_DEV_MODE=false

# ===========================================
# OPTIONAL - Newsletter Integration
# ===========================================

# Beehiiv API credentials
# Get from: Beehiiv Dashboard ‚Üí Settings ‚Üí API
# Required for: Newsletter subscriptions and campaigns
BEEHIIV_API_KEY=
BEEHIIV_PUBLICATION_ID=

# ===========================================
# OPTIONAL - Transactional Email
# ===========================================

# Resend API key
# Get from: Resend Dashboard ‚Üí API Keys
# Required for: Transactional emails and newsletter backups
RESEND_API_KEY=

# Sender email for transactional emails (must be verified in Resend)
# Default: david@openqase.com
RESEND_FROM_EMAIL=

# ===========================================
# OPTIONAL - Error Tracking & Monitoring
# ===========================================

# Sentry DSN for server and client-side error tracking
# Get from: Sentry Dashboard ‚Üí Settings ‚Üí Client Keys (DSN)
# Note: Both DSNs can use the same value
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# Sentry project ID (optional)
# Get from: Sentry Dashboard ‚Üí Settings ‚Üí General Settings
NEXT_PUBLIC_SENTRY_PROJECT_ID=

# ===========================================
# OPTIONAL - Preview Mode
# ===========================================

# Secret token for Next.js preview mode
# Used to preview unpublished content
# Usage: /api/preview?secret=YOUR_SECRET&slug=content-slug
# Security: Use a strong, random string in production
# ‚ö†Ô∏è Must be set in production ‚Äî preview mode will not work without it
PREVIEW_SECRET=

# ===========================================
# OPTIONAL - Rate Limiting
# ===========================================

# Newsletter subscription rate limiting
# Default: 5 requests per 5 minutes (300000ms)
RATE_LIMIT_NEWSLETTER=5
RATE_LIMIT_NEWSLETTER_WINDOW=300000

# General API rate limiting
# Default: 100 requests per 15 minutes (900000ms)
RATE_LIMIT_GENERAL=100
RATE_LIMIT_GENERAL_WINDOW=900000

# ===========================================
# OPTIONAL - Redis Rate Limiting (Production)
# ===========================================

# Upstash Redis credentials for production rate limiting
# Get from: Upstash Console ‚Üí Create Database ‚Üí REST API
# Without Redis: Falls back to in-memory rate limiting (single server only)
# With Redis: Consistent rate limiting across multiple server instances
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ===========================================
# OPTIONAL - Admin Setup (Script Only)
# ===========================================

# Only used by `npm run setup-admin` script
# Can be removed from .env.local after initial setup
ADMIN_EMAIL=
ADMIN_PASSWORD=

# ===========================================
# OPTIONAL - Build Configuration
# ===========================================

# Enable fully static export (no server-side features)
# Set to true for static hosting (GitHub Pages, S3, etc.)
# Disables API routes and server-side features
# Default: false
NEXT_STATIC_EXPORT=false
